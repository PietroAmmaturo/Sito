<html>

<head>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
</head>

<body>
    <video style="position: absolute" visible="false" id="360" webkit-playsinline playsinline loop="true">
        <source src="360.mp4" type="video/mp4">
    </video>
    <script>
        AFRAME.registerComponent('play-on-window-click', {
            schema: {
                target: { type: "selector" }
            },
            init: function () {
                this.onClick = this.onClick.bind(this);
                this.isPlaying = false;
            },
            play: function () {
                window.addEventListener('dblclick', this.onClick);
            },
            pause: function () {
                window.removeEventListener('dblclick', this.onClick);
            },
            onClick: function (evt) {
                var video = this.data.target;
                //var video = this.el.components.material.material.map.image;
                console.log("clicked")
                if (!this.isPlaying) {
                    video.play();
                    this.isPlaying = true;
                } else {
                    video.pause();
                    this.isPlaying = false;
                }
            }
        });</script>
    <a-scene vr-mode-ui="enabled: true">
        <!-- Using the asset management system. -->
        <a-videosphere play-on-window-click="target: #360" src="#360"></a-videosphere>

        <!-- Defining the URL inline. Not recommended but more comfortable for web developers. -->
        <!--<a-videosphere src="africa.mp4"></a-videosphere>-->
    </a-scene>

</body>

</html>